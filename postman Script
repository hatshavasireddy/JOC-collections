// Define the expected response JSON
const expectedResponse = {
    "status": "success",
    "data": {
        "id": 123,
        "name": "John Doe"
    }
};

// Get the actual response body
let actualResponse = pm.response.json();

// Use deep-diff library to compare the objects
const differences = DeepDiff(actualResponse, expectedResponse);

// Log the differences in the console
if (differences) {
    console.log("Differences found:", differences);
} else {
    console.log("No differences found. The responses are identical.");
}

// Optionally, display a message if the comparison fails
pm.test("Compare response with expected JSON and log differences", function() {
    if (differences) {
        pm.expect(differences).to.not.be.null;
    } else {
        pm.expect(differences).to.be.null;  // No differences
    }
});
